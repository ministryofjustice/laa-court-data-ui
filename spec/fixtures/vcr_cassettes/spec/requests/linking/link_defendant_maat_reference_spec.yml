---
http_interactions:
- request:
    method: get
    uri: http://localhost:9292/api/internal/v1/defendants/69a73434-ae4b-4728-97b8-6a0c60f37930?include=offences
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.3
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Authorization:
      - Bearer <BEARER_TOKEN>
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Laa-Transaction-Id:
      - 0d0a6fab-1cd1-46d1-aec9-426e6af372a2
      Content-Type:
      - application/vnd.api+json; charset=utf-8
      Etag:
      - W/"1c74439490e55271243bbcd4df3f2175"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 0d0a6fab-1cd1-46d1-aec9-426e6af372a2
      X-Runtime:
      - '0.005441'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"data":{"id":"69a73434-ae4b-4728-97b8-6a0c60f37930","type":"defendants","attributes":{"name":"Lawerence
        Predovic Ortiz","date_of_birth":"1958-01-11","national_insurance_number":"RC973812D","arrest_summons_number":"HPNODIOGCH0O","maat_reference":null,"representation_order_date":null},"relationships":{"offences":{"data":[{"id":"81aafd5f-8f3c-4bbf-8e94-5356450cc150","type":"offences"}]},"defence_organisation":{"data":null}}}}'
  recorded_at: Tue, 04 Aug 2020 15:23:05 GMT
- request:
    method: post
    uri: http://localhost:9292/api/internal/v1/laa_references
    body:
      encoding: UTF-8
      string: '{"data":{"type":"laa_references","attributes":{"maat_reference":"2123456","defendant_id":"69a73434-ae4b-4728-97b8-6a0c60f37930"}}}'
    headers:
      User-Agent:
      - Faraday v0.17.3
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Authorization:
      - Bearer <BEARER_TOKEN>
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 202
      message: Accepted
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Laa-Transaction-Id:
      - 13d2c198-efaf-48be-b278-325a213e9f1c
      Content-Type:
      - text/plain; charset=utf-8
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 13d2c198-efaf-48be-b278-325a213e9f1c
      X-Runtime:
      - '0.008307'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: " "
  recorded_at: Tue, 04 Aug 2020 15:23:05 GMT
- request:
    method: post
    uri: http://localhost:9292/api/internal/v1/laa_references
    body:
      encoding: UTF-8
      string: '{"data":{"type":"laa_references","attributes":{"maat_reference":"2123456","defendant_id":"invalid-defendant-id"}}}'
    headers:
      User-Agent:
      - Faraday v0.17.3
      Content-Type:
      - application/vnd.api+json
      Accept:
      - application/vnd.api+json
      Authorization:
      - Bearer <BEARER_TOKEN>
      Accept-Encoding:
      - gzip,deflate
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Laa-Transaction-Id:
      - ae1335df-6d68-497d-9bea-af3cb6f0c862
      Content-Type:
      - application/vnd.api+json; charset=utf-8
      Cache-Control:
      - no-cache
      X-Request-Id:
      - ae1335df-6d68-497d-9bea-af3cb6f0c862
      X-Runtime:
      - '0.007924'
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"defendant_id":["is not a valid uuid"]}'
  recorded_at: Tue, 04 Aug 2020 15:23:05 GMT
recorded_with: VCR 6.0.0
